<!doctype html><html lang=ja><head><meta name=generator content="Hugo 0.79.1"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta content="keyword 1,keyword 2,keyword 3" name=keywords><meta content="Yudai Suzuki" name=author><meta property="og:title" content="onigra.github.io"><meta property="og:url" content="https://onigra.github.io/"><meta property="og:description" content="Your description here"><meta property="og:type" content="website"><title>onigra.github.io</title><script type=text/x-mathjax-config>
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script><link rel=stylesheet href=https://onigra.github.io/css/style.css><link rel="shortcut icon" href=https://onigra.github.io/favicon.ico><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin=anonymous><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/github.min.css></head><section class=section><div class=container><nav class=nav><div class=nav-left><a class=nav-item href=https://onigra.github.io><h1 class="title is-4">onigra.github.io</h1></a><nav class="nav-item level is-mobile"><a class=level-item href=/about/>About</a>
<a class=level-item href=/post/>Archives</a></nav></div><div class=nav-right><nav class="nav-item level is-mobile"><a class=level-item href=https://github.com/onigra target=_blank><span class=icon><i class="fa fa-github"></i></span></a><a class=level-item href=https://twitter.com/onigra_ target=_blank><span class=icon><i class="fa fa-twitter"></i></span></a><a class=level-item href=/index.xml target=_blank><span class=icon><i class="fa fa-rss"></i></span></a></nav></div></nav></div></section><section class=section><div class=container><article><h1 class=title><a href=https://onigra.github.io/blog/2020/07/13/minimum-monitoring/>最低限の監視</a></h1><h2 class="subtitle is-5">July 13, 2020</h2><div class=content>何を監視したいか ロードバランサーのレスポンスタイム レスポンスタイムが悪化してないか ロードバランサーの5xxの数 短期間に増えてないか リクエスト
...<a class="button is-link" href=https://onigra.github.io/blog/2020/07/13/minimum-monitoring/ style=height:28px>
Read more
<span class="icon is-small"><i class="fa fa-angle-double-right"></i></span></a></div></article><article><h1 class=title><a href=https://onigra.github.io/blog/2020/06/28/how-to-response-difficult-question-on-chat/>チャットで即答しづらい質問に回答するコツ</a></h1><h2 class="subtitle is-5">June 28, 2020</h2><div class=content>はじめに: 個人の見解です チャットのオープンなチャンネルで即答しづらい質問（難しい、鋭い、自分の意見だけでは回答できない）ような質問に回答する
...<a class="button is-link" href=https://onigra.github.io/blog/2020/06/28/how-to-response-difficult-question-on-chat/ style=height:28px>
Read more
<span class="icon is-small"><i class="fa fa-angle-double-right"></i></span></a></div></article><article><h1 class=title><a href=https://onigra.github.io/blog/2020/06/15/ecs-fargate-purge-empty-string-env-var/>ECS Fargate Platform Version 1.4.0 は空文字列の環境変数を設定できない</a></h1><h2 class="subtitle is-5">June 15, 2020</h2><div class=content>Task Definition に空文字列を設定した環境変数があるアプリをPlatform Version 1.4.0 で起動したら、アプリ実行時に環境変数が存在しないエラーが発生した。 1.3.0 では普
...<a class="button is-link" href=https://onigra.github.io/blog/2020/06/15/ecs-fargate-purge-empty-string-env-var/ style=height:28px>
Read more
<span class="icon is-small"><i class="fa fa-angle-double-right"></i></span></a></div></article><article><h1 class=title><a href=https://onigra.github.io/blog/2020/05/06/disable-health-check-log-on-rails-semantic-logger/>rails_semantic_loggerでヘルスチェックのログを止める</a></h1><h2 class="subtitle is-5">May 6, 2020</h2><div class=content>rails_semantic_logger は Rails::Rack::Logger を swap してる ので、以下のような swap がうまく動かない。 Rails::Rack::Logger を継承した middleware を swap する際は引数に log_tags を忘れずに 特定のログを抑制する方法として、Seman
...<a class="button is-link" href=https://onigra.github.io/blog/2020/05/06/disable-health-check-log-on-rails-semantic-logger/ style=height:28px>
Read more
<span class="icon is-small"><i class="fa fa-angle-double-right"></i></span></a></div></article><article><h1 class=title><a href=https://onigra.github.io/blog/2020/05/04/log-strategy-rails-on-ecs/>RailsをECSで動かす時のログをどうするか考える</a></h1><h2 class="subtitle is-5">May 4, 2020</h2><div class=content>実験リポジトリ https://github.com/onigra/rails_sandbox 制約 Fargate リバースプロキシは別の Service で動いている h2o, nginx など http server のログは考慮しない Application Server は Unicorn 方針 Rails, Unicorn のログは全部 STDOUT に出す STDOUT に両方のログが
...<a class="button is-link" href=https://onigra.github.io/blog/2020/05/04/log-strategy-rails-on-ecs/ style=height:28px>
Read more
<span class="icon is-small"><i class="fa fa-angle-double-right"></i></span></a></div></article><article><h1 class=title><a href=https://onigra.github.io/blog/2020/05/02/try-fluent-bit-on-docker/>fluent-bitをdockerのlog driverとして試す</a></h1><h2 class="subtitle is-5">May 2, 2020</h2><div class=content>結論 # 他のコンテナからログを受けられる fluent-bit コンテナの起動 docker run -it -p 24224:24224 fluent/fluent-bit:latest /fluent-bit/bin/fluent-bit -i forward -o stdout # ログドライバを指定して標準出力を出せば、forwardされて fluent-bit
...<a class="button is-link" href=https://onigra.github.io/blog/2020/05/02/try-fluent-bit-on-docker/ style=height:28px>
Read more
<span class="icon is-small"><i class="fa fa-angle-double-right"></i></span></a></div></article><article><h1 class=title><a href=https://onigra.github.io/blog/2020/02/24/undefined-method-delegate-class-on-rack-session-cookie/>undefined method `DelegateClass' for Rack::Session::Cookie:Class</a></h1><h2 class="subtitle is-5">February 24, 2020</h2><div class=content>2020-02-25 09:25 JST 追記 マージされたのでそのうち解消されると思う。 原文 SidekiqのWeb ConsoleをDockerでスタンドアローンで運用してるんだ
...<a class="button is-link" href=https://onigra.github.io/blog/2020/02/24/undefined-method-delegate-class-on-rack-session-cookie/ style=height:28px>
Read more
<span class="icon is-small"><i class="fa fa-angle-double-right"></i></span></a></div></article><article><h1 class=title><a href=https://onigra.github.io/blog/2020/01/05/bestbuy-2019/>2019年買ってよかったもの10選</a></h1><h2 class="subtitle is-5">January 5, 2020</h2><div class=content>Maison Margiela 2018SS 5zip ライダース スエード ブラック AMBUSH 2019AW FLIGHT CARGO PANTS OLIVE Neil Barret 2019AW ウール カーゴパンツ Acne Studios ウール ドローコードパンツ ネイビー THE RERACS 2019AW RERACS SUPER HIGH TENSION HALF CARDIGAN RIB MOCKNECK KNIT(BLACK) Native Sons SEEGER 47 Antique
...<a class="button is-link" href=https://onigra.github.io/blog/2020/01/05/bestbuy-2019/ style=height:28px>
Read more
<span class="icon is-small"><i class="fa fa-angle-double-right"></i></span></a></div></article><article><h1 class=title><a href=https://onigra.github.io/blog/2019/12/05/midlife-health-care/>中年が継続的に体調とメンタルを良好に保つノウハウ</a></h1><h2 class="subtitle is-5">December 5, 2019</h2><div class=content>この記事はClassi Advent Calendar 2019 5 日目の記事です。 前回は、yukoono さん による Classi の新卒エンジニア向け研修、「万葉研修」について でした。 さて、
...<a class="button is-link" href=https://onigra.github.io/blog/2019/12/05/midlife-health-care/ style=height:28px>
Read more
<span class="icon is-small"><i class="fa fa-angle-double-right"></i></span></a></div></article><article><h1 class=title><a href=https://onigra.github.io/blog/2019/01/27/ansible-development-setup/>Pythonあまり知らない人がMacでAnsibleリポジトリの最低限の開発環境をつくる</a></h1><h2 class="subtitle is-5">January 27, 2019</h2><div class=content>Ansibleにプルリク出すのに調べた。基本的にこれの通りにやればいい。 Ansible module development: getting started 環境構築 Common environment setup テストの実行 Sanity tests Sanity Tests 静的解析とかするやつ symlinks は
...<a class="button is-link" href=https://onigra.github.io/blog/2019/01/27/ansible-development-setup/ style=height:28px>
Read more
<span class="icon is-small"><i class="fa fa-angle-double-right"></i></span></a></div></article></div></section><section class=section><div class=container><nav class="level is-mobile"><div class=level-left><div class=level-item><a class=button href=/><span class="icon is-small is-marginless"><i class="fa fa-angle-left"></i></span>Newer</a></div></div><div class="level-right is-marginless"><div class=level-item><a class=button href=/page/3/>Older
<span class="icon is-small is-marginless"><i class="fa fa-angle-right"></i></span></a></div></div></nav></div></section><section class=section><div class="container has-text-centered"><p>&copy; 2017 | <a href=https://twitter.com/onigra_ target=_blank>Onigra</a> | Powerd by <a href=https://github.com/mgjohansen/hucore target=_blank>Hucore theme</a> & <a href=http://gohugo.io target=_blank>Hugo</a></p></div></section><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/highlight.min.js integrity="sha256-+bhVTaRmJ/c07eV80nU8gD2cBBF0rYkf1txqXlrbvb0=" crossorigin=anonymous></script><script type=text/javascript src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/languages/go.min.js></script><script type=text/javascript src=//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js></script><script type=text/javascript src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/languages/dockerfile.min.js></script><script type=text/javascript src=//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js></script><script>hljs.initHighlightingOnLoad();</script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','trackingcode','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script>